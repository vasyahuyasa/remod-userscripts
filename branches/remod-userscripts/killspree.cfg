spree_onfrag = [
	fragnum = (getvar $arg1 nodie)
	fragnum = (+ $fragnum 1)
	setvar $arg1 nodie $fragnum

	spreecmd = (format "killspree_%1" $fragnum)
	if (identexists $spreecmd) [
		say (format (getalias $spreecmd) (getname $arg1) $arg2)
	]
]

spree_reset = [ setvar $arg1 nodie 0 ]

spree_resetall = [
	all = (clientlist)
	looplist cn $all [ spree_reset $cn ]
]

addhandler onfrag spree_onfrag
addhandler ondeath spree_reset
addhandler onsuicide spree_reset
addhandler onmapchange spree_resetall

killspree_5 = "Player %1 did 5 frags"
killspree_10 = "Player %1 did 10 frags"
killspree_15 = "Player %1 did 15 frags"
killspree_20 = "Player %1 did 20 frags"
killspree_25 = "Player %1 did 25 frags"
